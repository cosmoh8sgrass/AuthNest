{
  "$schema": "https://schema.railpack.com",
  "provider": "shell",
  "packages": {
    "node": "22"
  },
  "steps": {
    "app": {
      "inputs": [
        { "step": "packages:mise" },
        { "local": true, "include": ["backend", "frontend", "start.sh"] }
      ],
      "commands": ["cd backend && npm install"],
      "deployOutputs": []
    }
  },
  "deploy": {
    "inputs": [
      {
        "step": "packages:mise",
        "include": [
          "/mise/shims",
          "/mise/installs",
          "/usr/local/bin/mise",
          "/etc/mise/config.toml",
          "/root/.local/state/mise"
        ]
      },
      { "step": "app", "include": ["."] }
    ],
    "startCommand": "node backend/server.js"
  }
}
